/*
 * YUI RESET
 * 
 */ 
html{color:#000;background:#FFF}
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0}
table{border-collapse:collapse;border-spacing:0}
fieldset,img{border:0}
address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal}
ol,ul{list-style:none}
caption,th{text-align:left}
h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}
q:before,q:after{content:''}
abbr,acronym{border:0;font-variant:normal}
sup{vertical-align:text-top}
sub{vertical-align:text-bottom}
input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit}
input,textarea,select{*font-size:100%}
legend{color:#000}


.transform (...) {
  -webkit-transform: @arguments;
     -moz-transform: @arguments;
      -ms-transform: @arguments;
       -o-transform: @arguments;
          transform: @arguments;
}
.transition (...) {
  -webkit-transition: @arguments;
     -moz-transition: @arguments;
      -ms-transition: @arguments;
       -o-transition: @arguments;
          transition: @arguments;
}
.animation( @arg ) {
    -webkit-animation: @arg;
    -moz-animation: @arg;
    animation: @arg;
}


/*
 * (๑¯ω¯๑)
 * 
 */
html,body{
    background: url('s3-background.png');
    font: 14px '微软雅黑', 'Microsoft YaHei', 'Hiragino Sans GB', Arial, sans-serif;
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: relative;
}
#header{
    background: #222;
    box-shadow: 0 0 10px rgba(0, 0, 0, .2);
    color: #ccc;
    text-align: right;
    padding: 10px;
    img{
        vertical-align: middle;
        height: 22px;
    }
    #signin{
        img{
            width: 110px;
        }
    }
    #user{
        display: none;
    }
    #user-avatar{
        width: 22px;
        margin: 0 5px;
    }
    #user-name{
        color: #fff;
        margin-right: 5px;
    }
    #user-statistics{
        border-radius: 3px;
        color: #fff;
        display: inline-block;
        margin-left: 5px;
        line-height: 1.7em;
        padding: 0 .4em;
        text-decoration: none;
        &:hover{
            background: #eee;
            color: #000;
        }
    }
}

#wrapper{
    width: 100%;
    height: 100%;
    .transition(background 1s ease);
    & > div{
        margin: auto;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
    }
    // 控制台
    #action{
        width: 100%;
        height: 180px;
        color: #FAFA88;
        font-size: 10em;
        text-align: center;
        text-shadow: 0 0 50px rgba(0, 0, 0, .3);
        -webkit-transition: font-size .3s ease, -webkit-transform .3s ease .5s;
        -moz-transition: font-size .3s ease, -moz-transform .3s ease .5s;
        -ms-transition: font-size .3s ease, -ms-transform .3s ease .5s;
        -o-transition: font-size .3s ease, -o-transform .3s ease .5s;
        transition: font-size .3s ease, transform .3s ease .5s;
        a{
            color: #fff;
            text-decoration: none;
        }
        #moyu-start{
            display: inline-block;
            &:hover{
                .animation(swing 1s ease 0s infinite);
            }
        }
        #moyu-end{
            display: none;
        }
    }
    // 计时器
    #timer{
        color: #777;
        opacity: 0;
        width: 50%;
        max-width: 500px;
        height: 200px;
        top: -9999px;
        -webkit-transition: -webkit-transform .3s ease .5s, opacity .3s ease .5s;
        -moz-transition: -moz-transform .3s ease .5s, opacity .3s ease .5s;
        -ms-transition: -ms-transform .3s ease .5s, opacity .3s ease .5s;
        -o-transition: -o-transform .3s ease .5s, opacity .3s ease .5s;
        transition: transform .3s ease .5s, opacity .3s ease .5s;
        -webkit-transform: translate3d(0, -130px, 0);
        -moz-transform: translate3d(0, -130px, 0);
        -ms-transform: translate3d(0, -130px, 0);
        -o-transform: translate3d(0, -130px, 0);
        transform: translate3d(0, -130px, 0);
        & > p{
            position: absolute;
        }
        b{
            color: #fff;
        }
        #text{
            b{
                font-size: 1.4em;
            }
        }
        #hour{
            font-size: 6em;
            b{
                font-size: 1.6em;
            }
            top: 20px;
            left: 40px;
            .animation(swing 5s ease 0s infinite);
        }
        #minute{
            font-size: 3em;
            b{
                font-size: 1.5em;
            }
            top: 160px;
            left: 180px;
            .animation(swing 2s ease 0s infinite);
        }
        #second{
            font-size: 6em;
            left: 305px;
            top: 20px;
            .animation(swing 4s ease 0s infinite);
        }
        #millisecond{
            font-size: 2.2em;
            top: 120px;
            left: 330px;
            b{
                color: #555;
            }
            .animation(swing 1s ease 0s infinite);
        }
    }

    // 摸鱼状态下
    &.moyuing{
        background: #222;
        #action{
            font-size: 2em;
            .transform(translate3d(0, 150%, 0));
        }
        #timer{
            opacity: 1;
            top: 0;
            .transform(translate3d(0, -80px, 0));
        }
    }
}

@-webkit-keyframes swing {
    0% { .transform(translate3d(1px -1px, -1px)); opacity: .8; }
    3% { .transform(rotate(0deg) translate3d(1px, 1px, 0)); opacity: 1; }
    6% { .transform(rotate(0deg) translate3d(0, 0, -1px)); }
    10% { .transform(rotate(1deg) translate3d(0, 0px, 0)); }
    12% { .transform(rotate(0deg)); opacity: .75; }
    48% { .transform(translate3d(0, 0, 0)); }
    50% { .transform(translate3d(7px, 0, 0)); }
    51% { .transform(translate3d(0, 1px, 0)); }
    52% { .transform(translate3d(1px, -4px, 0)); }
    55% { .transform(translate3d(0, 0, 0)); }
    71% { .transform(rotate(0deg)); }
    72% { .transform(rotate(1deg)); }
    75% { .transform(rotate(0deg)); }
    80% { .transform(rotate(-1deg) translate3d(-1px, 1px, 0)); }
    85% { .transform(rotate(-1deg)); }
    88% { .transform(rotate(0) translate3d(0, 1px, 1px)); }
    100% { opacity: 1; }
}
@keyframes swing {
    0% { .transform(translate3d(1px -1px, -1px)); opacity: .8; }
    3% { .transform(rotate(0deg) translate3d(1px, 1px, 0)); opacity: 1; }
    6% { .transform(rotate(0deg) translate3d(0, 0, -1px)); }
    10% { .transform(rotate(1deg) translate3d(0, 0px, 0)); }
    12% { .transform(rotate(0deg)); opacity: .75; }
    48% { .transform(translate3d(0, 0, 0)); }
    50% { .transform(translate3d(7px, 0, 0)); }
    51% { .transform(translate3d(0, 1px, 0)); }
    52% { .transform(translate3d(1px, -4px, 0)); }
    55% { .transform(translate3d(0, 0, 0)); }
    71% { .transform(rotate(0deg)); }
    72% { .transform(rotate(1deg)); }
    75% { .transform(rotate(0deg)); }
    80% { .transform(rotate(-1deg) translate3d(-1px, 1px, 0)); }
    85% { .transform(rotate(-1deg)); }
    88% { .transform(rotate(0) translate3d(0, 1px, 1px)); }
    100% { opacity: 1; }
}


/*
 * 返回值弹层
 * 
 */
#return{
    position: fixed;
    top: -9999px;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    z-index: 3;
    .transition(opacity .3s ease);
    &.active{
        top: 0;
        opacity: 1;
        &.result{
            #result{
                .transform(none);
                opacity: 1;
            }
        }
        &.loading{
            #overlay{
                background: rgba(0, 0, 0, .85);
            }
        }
    }
}
#overlay{
    background: -webkit-radial-gradient(circle, rgba(0, 0, 0, .4), rgba(0, 0, 0, .85));
    background: -moz-radial-gradient(circle, rgba(0, 0, 0, .4), rgba(0, 0, 0, .85));
    background: radial-gradient(circle, rgba(0, 0, 0, .4), rgba(0, 0, 0, .85));
    cursor: pointer;
    display: table;
    width: 100%;
    height: 100%;
    text-align: center;
    #loading-text{
        color: #CDFFD9;
        display: table-cell;
        font-size: 1.3em;
        text-shadow: 0 0 10px #9EFFB5;
        vertical-align: middle;
    }
    .loading-animation{
        background: #9EFFB5;
        box-shadow: 0 0 10px #9EFFB5, 0 0 ;
        border-radius: 10px;
        display: inline-block;
        width: 10px;
        height: 10px;
        margin: 0 .1em;
        text-indent: -9999px;
        margin-top: 10px;
        position: absolute;

        .animation(loading 3s ease 0s infinite);
        &:nth-child(6){ -webkit-animation-delay: 0; animation-delay: 0; }
        &:nth-child(5){ -webkit-animation-delay: .2s; animation-delay: .2s; }
        &:nth-child(4){ -webkit-animation-delay: .4s; animation-delay: .4s; }
        &:nth-child(3){ -webkit-animation-delay: .6s; animation-delay: .6s; }
        &:nth-child(2){ -webkit-animation-delay: .8s; animation-delay: .8s; }
    }
}
#result{
    background: #fff;
    box-shadow: 0 5px 10px rgba(0, 0, 0, .5);
    position: absolute;
    width: 400px;
    height: 60px;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    margin: auto;
    opacity: 0;
    .transition(all .2s ease);
    .transform(scale3d(1.3, 1.3, 1.3));
    #result-title{
        background: #222;
        border-bottom: 4px solid #ff5959;
        color: #eee;
        font-weight: bold;
        line-height: 3.2em;
        text-indent: 1.2em;
    }
    table{
        width: 100%;
    }
    tr:last-child td{
        padding-bottom: 1.2em;
    }
    td{
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        padding: .8em 1.2em;
        &:first-child{
            background: #eee;
            width: 35%;
            text-align: right;
        }
        &:last-child{
            background: #fff;
            width: 65%;
        }
    }
    a{
        color: #ff5959;
        text-decoration: none;
        &:hover{
            text-decoration: underline;
        }
    }
}

@-webkit-keyframes loading {
    0% { .transform(translate3d(-60px, 0, 0)); opacity: 0; }
    60% { opacity: 1; }
    70% { opacity: .75; }
    80% { opacity: .35; }
    100% { .transform(translate3d(40px, 0, 0)); opacity: 0; }
}
@keyframes loading {
    0% { .transform(translate3d(-60px, 0, 0)); opacity: 0; }
    60% { opacity: 1; }
    70% { opacity: .75; }
    80% { opacity: .35; }
    100% { .transform(translate3d(40px, 0, 0)); opacity: 0; }
}